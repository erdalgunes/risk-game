"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{3623:function(t,e,r){r.d(e,{t:function(){return n}});var o=r(6911);function n(t){let{state:e,onTerritoryClick:r,selectedTerritory:n}=t,i=e.territories,l={1:{x:50,y:50},2:{x:250,y:50},3:{x:450,y:50},4:{x:50,y:250},5:{x:250,y:250},6:{x:450,y:250}};return(0,o.jsxs)("svg",{width:"600",height:"400",style:{border:"2px solid #333",backgroundColor:"#2a2a2a"},children:[[[1,2],[2,3],[1,4],[2,5],[3,6],[4,5],[5,6]].map(t=>{let[e,r]=t,n=l[e],i=l[r];return(0,o.jsx)("line",{x1:n.x+75,y1:n.y+75,x2:i.x+75,y2:i.y+75,stroke:"#555",strokeWidth:"2"},"".concat(e,"-").concat(r))}),Object.values(i).map(t=>{let e=l[t.id],i=n===t.id,s="red"===t.owner?"#e74c3c":"#3498db";return(0,o.jsxs)("g",{onClick:()=>r(t.id),style:{cursor:"pointer"},children:[(0,o.jsx)("rect",{x:e.x,y:e.y,width:"150",height:"150",fill:s,stroke:i?"#fff":"#000",strokeWidth:i?4:2,opacity:.8}),(0,o.jsx)("text",{x:e.x+75,y:e.y+65,textAnchor:"middle",fill:"white",fontSize:"24",fontWeight:"bold",children:t.id}),(0,o.jsx)("text",{x:e.x+75,y:e.y+100,textAnchor:"middle",fill:"white",fontSize:"32",fontWeight:"bold",children:t.troops}),(0,o.jsx)("text",{x:e.x+75,y:e.y+125,textAnchor:"middle",fill:"white",fontSize:"14",children:"troops"})]},t.id)})]})}},7613:function(t,e,r){r.d(e,{z:function(){return n}});var o=r(6911);function n(t){let{state:e,selectedTerritory:r,onSkip:n,fortifyTroops:i,onFortifyTroopsChange:l}=t,s="red"===e.currentPlayer?"#e74c3c":"#3498db";return(0,o.jsxs)("div",{style:{padding:"20px",backgroundColor:"#1a1a1a",borderRadius:"8px",color:"white",minWidth:"300px"},children:[(0,o.jsx)("h2",{style:{margin:"0 0 20px 0"},children:"Game Status"}),e.winner?(0,o.jsx)("div",{style:{padding:"20px",backgroundColor:"red"===e.winner?"#e74c3c":"#3498db",borderRadius:"8px",textAlign:"center"},children:(0,o.jsxs)("h3",{style:{margin:0},children:[e.winner.toUpperCase()," WINS!"]})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{marginBottom:"20px"},children:(0,o.jsxs)("div",{style:{display:"inline-block",padding:"10px 20px",backgroundColor:s,borderRadius:"8px",fontWeight:"bold",fontSize:"18px"},children:[e.currentPlayer.toUpperCase(),"'S TURN"]})}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsxs)("p",{style:{margin:"5px 0",fontSize:"16px"},children:["Phase: ",(0,o.jsx)("strong",{children:e.phase.toUpperCase()})]}),r&&(0,o.jsxs)("p",{style:{margin:"5px 0",fontSize:"16px"},children:["Selected: ",(0,o.jsxs)("strong",{children:["Territory ",r]})]})]}),"attack"===e.phase&&(0,o.jsx)("div",{style:{marginBottom:"20px"},children:(0,o.jsx)("p",{style:{fontSize:"14px",color:"#888"},children:"Click one of your territories with 2+ troops, then click an adjacent enemy territory to attack."})}),"fortify"===e.phase&&r&&(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"10px"},children:"Troops to move:"}),(0,o.jsx)("input",{type:"number",min:"1",max:e.territories[r].troops-1,value:i,onChange:t=>l(parseInt(t.target.value)||1),style:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #555",backgroundColor:"#2a2a2a",color:"white"}}),(0,o.jsx)("p",{style:{fontSize:"14px",color:"#888",marginTop:"10px"},children:"Click a connected territory you own to move troops."})]}),(0,o.jsx)("button",{onClick:n,style:{width:"100%",padding:"12px",fontSize:"16px",backgroundColor:"#555",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"attack"===e.phase?"Skip to Fortify":"End Turn"})]}),(0,o.jsxs)("div",{style:{marginTop:"30px",paddingTop:"20px",borderTop:"1px solid #333"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 15px 0",fontSize:"16px"},children:"Territory Control"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{color:"#e74c3c",fontWeight:"bold"},children:"RED"}),(0,o.jsxs)("div",{style:{fontSize:"24px"},children:[Object.values(e.territories).filter(t=>"red"===t.owner).length,"/6"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{color:"#3498db",fontWeight:"bold"},children:"BLUE"}),(0,o.jsxs)("div",{style:{fontSize:"24px"},children:[Object.values(e.territories).filter(t=>"blue"===t.owner).length,"/6"]})]})]})]})]})}},7844:function(t,e,r){r.d(e,{e:function(){return i}});var o=r(3761),n=r(4858);function i(t,e){let[r,i]=(0,o.useState)(null),[l,s]=(0,o.useState)(1),[a,d]=(0,o.useState)(""),c=async(o,a)=>{if(!t||t.winner)return;let c=t.territories[o],p=a||t.currentPlayer;if("attack"===t.phase){if(r){let l={type:"attack",from:r,to:o},s=(0,n.p9)(t,l);if(s)d(s),i(null);else try{let r=(0,n.PL)(t,l);e&&await e(r),d("Attack executed!")}catch(t){d("Attack failed: "+t.message),i(null)}}else c.owner===p&&c.troops>1?(i(o),d("Selected territory ".concat(o,". Click an adjacent enemy territory to attack."))):d("Select a territory you own with at least 2 troops.")}else if("fortify"===t.phase){if(r){let s={type:"fortify",from:r,to:o,troops:l},a=(0,n.p9)(t,s);if(a)d(a),i(null);else try{let r=(0,n.PL)(t,s);e&&await e(r),d("Troops moved!"),i(null)}catch(t){d("Move failed: "+t.message),i(null)}}else c.owner===p&&c.troops>1?(i(o),s(1),d("Selected territory ".concat(o,". Click a connected territory to move troops."))):d("Select a territory you own with at least 2 troops.")}};return{selectedTerritory:r,fortifyTroops:l,setFortifyTroops:s,message:a,handleTerritoryClick:c,handleSkip:async()=>{if(t&&!t.winner)try{let r=(0,n.PL)(t,{type:"skip"});e&&await e(r),i(null),d("attack"===t.phase?"Moved to fortify phase":"Turn ended")}catch(t){d("Error: "+t.message)}},resetSelection:(0,o.useCallback)(()=>{i(null)},[])}}},4858:function(t,e,r){function o(){return{currentPlayer:"red",phase:"attack",territories:{1:{id:1,owner:"red",troops:3,adjacentTo:[2,4]},2:{id:2,owner:"red",troops:3,adjacentTo:[1,3,5]},3:{id:3,owner:"red",troops:3,adjacentTo:[2,6]},4:{id:4,owner:"blue",troops:3,adjacentTo:[1,5]},5:{id:5,owner:"blue",troops:3,adjacentTo:[2,4,6]},6:{id:6,owner:"blue",troops:3,adjacentTo:[3,5]}},winner:null}}function n(){return Math.floor(6*Math.random())+1}function i(t,e,r,o){let n=new Set,i=[t];for(;i.length>0;){let t=i.shift();if(t===e)return!0;if(n.has(t))continue;n.add(t);let l=o[t].adjacentTo.filter(t=>o[t].owner===r);i.push(...l)}return!1}function l(t,e){let{currentPlayer:r,phase:o,territories:n}=t;if("skip"===e.type)return null;if("attack"===e.type){var l,s;if("attack"!==o)return"Can only attack during attack phase";let t=n[e.from],i=n[e.to];return t.owner!==r?"You do not own the attacking territory":i.owner===r?"Cannot attack your own territory":t.troops<=1?"Need at least 2 troops to attack":(l=e.from,s=e.to,n[l].adjacentTo.includes(s))?null:"Territories are not adjacent"}if("fortify"===e.type){if("fortify"!==o)return"Can only fortify during fortify phase";let t=n[e.from],l=n[e.to];return t.owner!==r?"You do not own the source territory":l.owner!==r?"You do not own the destination territory":e.troops<1?"Must move at least 1 troop":t.troops<=e.troops?"Must leave at least 1 troop behind":i(e.from,e.to,r,n)?null:"Territories are not connected through your territories"}return"Invalid move type"}function s(t,e){let r=l(t,e);if(r)throw Error(r);let o=JSON.parse(JSON.stringify(t));if("skip"===e.type)return"attack"===o.phase?o.phase="fortify":(o.phase="attack",o.currentPlayer="red"===o.currentPlayer?"blue":"red"),o;if("attack"===e.type){var i,s;let t=o.territories[e.from],r=o.territories[e.to],l=(t.troops,s=r.troops,n()>n()?{attackerLost:0,defenderLost:1,conquered:1===s}:{attackerLost:1,defenderLost:0,conquered:!1});t.troops-=l.attackerLost,r.troops-=l.defenderLost,l.conquered&&(r.owner=t.owner,r.troops=1,t.troops-=1);let a=function(t){let e=Object.values(t).map(t=>t.owner),r=e.filter(t=>"red"===t).length,o=e.filter(t=>"blue"===t).length;return 6===r?"red":6===o?"blue":null}(o.territories);return a&&(o.winner=a),o}if("fortify"===e.type){let t=o.territories[e.from],r=o.territories[e.to];t.troops-=e.troops,r.troops+=e.troops,o.phase="attack",o.currentPlayer="red"===o.currentPlayer?"blue":"red"}return o}function a(t){let e=[],{currentPlayer:r,phase:o,territories:n}=t;if(e.push({type:"skip"}),"attack"===o)for(let t in n){let o=n[t];if(o.owner===r&&o.troops>1)for(let t of o.adjacentTo)n[t].owner!==r&&e.push({type:"attack",from:o.id,to:t})}else for(let t in n){let o=n[t];if(o.owner===r&&o.troops>1)for(let t in n){let l=n[t];if(l.owner===r&&o.id!==l.id&&i(o.id,l.id,r,n))for(let t=1;t<o.troops;t++)e.push({type:"fortify",from:o.id,to:l.id,troops:t})}}return e}r.d(e,{PA:function(){return o},PL:function(){return s},j8:function(){return a},p9:function(){return l}})}}]);